#include "Floors.cuh"

#include <iostream>

__device__ SurfaceG floorsG[total_floorsG];

__global__ void initialise_floors(){
     floorsG[0] = SurfaceG(1536, 5478, -262, 922, 5478, -262, 922, 5478, 403);
     floorsG[1] = SurfaceG(1536, 5478, -262, 922, 5478, 403, 1536, 5478, 403);
     floorsG[2] = SurfaceG(2150, 5248, -262, 1536, 5248, -210, 2150, 5248, -210);
     floorsG[3] = SurfaceG(2150, 5248, -262, 1536, 5248, -262, 1536, 5248, -210);
     floorsG[4] = SurfaceG(2765, 5248, -262, 2150, 5248, 403, 2765, 5248, 403);
     floorsG[5] = SurfaceG(2765, 5248, -262, 2150, 5248, -262, 2150, 5248, 403);
     floorsG[6] = SurfaceG(3994, 5018, -262, 2765, 5018, -262, 2765, 5018, -210);
     floorsG[7] = SurfaceG(3994, 5018, -262, 2765, 5018, -210, 3994, 5018, -210);
     floorsG[8] = SurfaceG(7384, 4506, 371, 7513, 4403, -236, 7384, 4506, -181);
     floorsG[9] = SurfaceG(7384, 4506, 371, 7513, 4403, 426, 7513, 4403, -236);
     floorsG[10] = SurfaceG(7384, 4506, -181, 7513, 4403, -236, 7071, 4403, -678);
     floorsG[11] = SurfaceG(7384, 4506, -181, 7071, 4403, -678, 7015, 4506, -549);
     floorsG[12] = SurfaceG(7015, 4506, -549, 7071, 4403, -678, 6407, 4403, -678);
     floorsG[13] = SurfaceG(7015, 4506, -549, 6407, 4403, -678, 6462, 4506, -549);
     floorsG[14] = SurfaceG(6462, 4506, -549, 6407, 4403, -678, 5965, 4403, -236);
     floorsG[15] = SurfaceG(6462, 4506, -549, 5965, 4403, -236, 6094, 4506, -181);
     floorsG[16] = SurfaceG(7384, 4506, -181, 6912, 4019, 170, 7384, 4506, 371);
     floorsG[17] = SurfaceG(7015, 4506, -549, 6912, 4019, 20, 7384, 4506, -181);
     floorsG[18] = SurfaceG(7015, 4506, -549, 6462, 4506, -549, 6661, 4019, -79);
     floorsG[19] = SurfaceG(7384, 4506, -181, 6912, 4019, 20, 6912, 4019, 170);
     floorsG[20] = SurfaceG(6462, 4506, 740, 6561, 4019, 170, 6094, 4506, 371);
     floorsG[21] = SurfaceG(6462, 4506, 740, 6661, 4019, 271, 6561, 4019, 170);
     floorsG[22] = SurfaceG(6094, 4506, 371, 6561, 4019, 170, 6561, 4019, 20);
     floorsG[23] = SurfaceG(6094, 4506, 371, 6561, 4019, 20, 6094, 4506, -181);
     floorsG[24] = SurfaceG(7015, 4506, -549, 6811, 4019, -79, 6912, 4019, 20);
     floorsG[25] = SurfaceG(7015, 4506, -549, 6661, 4019, -79, 6811, 4019, -79);
     floorsG[26] = SurfaceG(6094, 4506, -181, 5965, 4403, -236, 5965, 4403, 426);
     floorsG[27] = SurfaceG(6094, 4506, -181, 5965, 4403, 426, 6094, 4506, 371);
     floorsG[28] = SurfaceG(7071, 4403, 869, 7015, 4506, 740, 6462, 4506, 740);
     floorsG[29] = SurfaceG(7071, 4403, 869, 6462, 4506, 740, 6407, 4403, 869);
     floorsG[30] = SurfaceG(7071, 4403, 869, 7513, 4403, 426, 7384, 4506, 371);
     floorsG[31] = SurfaceG(7071, 4403, 869, 7384, 4506, 371, 7015, 4506, 740);
     floorsG[32] = SurfaceG(5965, 4403, 426, 6407, 4403, 869, 6462, 4506, 740);
     floorsG[33] = SurfaceG(5965, 4403, 426, 6462, 4506, 740, 6094, 4506, 371);
     floorsG[34] = SurfaceG(3994, 4403, -210, 3379, 4403, -210, 3379, 4403, 403);
     floorsG[35] = SurfaceG(4403, 4403, -210, 3994, 4403, -210, 3994, 4403, 403);
     floorsG[36] = SurfaceG(4403, 4403, -210, 3994, 4403, 403, 4403, 4403, 403);
     floorsG[37] = SurfaceG(3994, 4403, -210, 3379, 4403, 403, 3994, 4403, 403);
     floorsG[38] = SurfaceG(1536, 4403, -210, 922, 4403, -210, 922, 4403, 403);
     floorsG[39] = SurfaceG(1536, 4403, -210, 922, 4403, 403, 1536, 4403, 403);
     floorsG[40] = SurfaceG(5555, 4403, 403, 5965, 4403, -210, 5555, 4403, -210);
     floorsG[41] = SurfaceG(1536, 4403, 403, 2150, 4403, 403, 1946, 4403, 198);
     floorsG[42] = SurfaceG(1536, 4403, 403, 1946, 4403, 198, 1741, 4403, 198);
     floorsG[43] = SurfaceG(1536, 4403, 403, 1741, 4403, -6, 1536, 4403, -210);
     floorsG[44] = SurfaceG(1536, 4403, 403, 1741, 4403, 198, 1741, 4403, -6);
     floorsG[45] = SurfaceG(1536, 4403, -210, 1741, 4403, -6, 1946, 4403, -6);
     floorsG[46] = SurfaceG(1536, 4403, -210, 1946, 4403, -6, 2150, 4403, -210);
     floorsG[47] = SurfaceG(2150, 4403, -210, 1946, 4403, 198, 2150, 4403, 403);
     floorsG[48] = SurfaceG(2150, 4403, -210, 1946, 4403, -6, 1946, 4403, 198);
     floorsG[49] = SurfaceG(5555, 4403, 403, 5965, 4403, 403, 5965, 4403, -210);
     floorsG[50] = SurfaceG(5965, 4255, 426, 5965, 4403, 403, 5555, 4403, 403);
     floorsG[51] = SurfaceG(6811, 4019, 271, 7015, 4506, 740, 7384, 4506, 371);
     floorsG[52] = SurfaceG(6661, 4019, 271, 6462, 4506, 740, 7015, 4506, 740);
     floorsG[53] = SurfaceG(6661, 4019, 271, 7015, 4506, 740, 6811, 4019, 271);
     floorsG[54] = SurfaceG(6811, 4019, 271, 7384, 4506, 371, 6912, 4019, 170);
     floorsG[55] = SurfaceG(6561, 4019, 20, 6661, 4019, -79, 6462, 4506, -549);
     floorsG[56] = SurfaceG(6561, 4019, 20, 6462, 4506, -549, 6094, 4506, -181);
     floorsG[57] = SurfaceG(-4965, 3789, 404, -5017, 3789, 404, -5017, 3789, 761);
     floorsG[58] = SurfaceG(-4965, 3789, 404, -5017, 3789, 761, -4965, 3789, 813);
     floorsG[59] = SurfaceG(-5017, 3789, -971, -5017, 3789, -209, -4965, 3789, -209);
     floorsG[60] = SurfaceG(-4965, 3789, -1022, -5017, 3789, -971, -4965, 3789, -209);
     floorsG[61] = SurfaceG(-4965, 3789, 813, -5631, 3789, 761, -5682, 3789, 813);
     floorsG[62] = SurfaceG(-5682, 3789, -1022, -5682, 3789, -971, -5017, 3789, -971);
     floorsG[63] = SurfaceG(-5682, 3789, -1022, -5017, 3789, -971, -4965, 3789, -1022);
     floorsG[64] = SurfaceG(-5682, 3789, -1022, -6911, 3174, -1022, -6911, 3174, -971);
     floorsG[65] = SurfaceG(-5682, 3789, -971, -5682, 3789, -1022, -6911, 3174, -971);
     floorsG[66] = SurfaceG(-5631, 3789, -663, -5682, 3789, -663, -5682, 3789, 813);
     floorsG[67] = SurfaceG(-5631, 3789, -663, -5682, 3789, 813, -5631, 3789, 761);
     floorsG[68] = SurfaceG(-4965, 3789, 813, -5017, 3789, 761, -5631, 3789, 761);
     floorsG[69] = SurfaceG(2765, 3789, -210, 2150, 3789, -210, 2150, 3789, 403);
     floorsG[70] = SurfaceG(2765, 3789, -210, 2150, 3789, 403, 2765, 3789, 403);
     floorsG[71] = SurfaceG(307, 3789, -518, -306, 3789, 710, 307, 3789, 710);
     floorsG[72] = SurfaceG(307, 3789, -518, -306, 3789, -518, -306, 3789, 710);
     floorsG[73] = SurfaceG(-3173, 3686, -876, -3276, 3686, -876, -3276, 3686, -774);
     floorsG[74] = SurfaceG(-3173, 3686, -876, -3276, 3686, -774, -3173, 3686, -774);
     floorsG[75] = SurfaceG(-3276, 3686, -774, -3276, 3686, -876, -3378, 3482, -978);
     floorsG[76] = SurfaceG(-1330, 3686, -872, -1433, 3686, -872, -1433, 3686, -770);
     floorsG[77] = SurfaceG(-1330, 3686, -872, -1433, 3686, -770, -1330, 3686, -770);
     floorsG[78] = SurfaceG(-1433, 3686, -770, -1433, 3686, -872, -1535, 3482, -975);
     floorsG[79] = SurfaceG(-5017, 3686, 404, -4965, 3686, 404, -4965, 3686, -209);
     floorsG[80] = SurfaceG(-5017, 3686, 404, -4965, 3686, -209, -5017, 3686, -209);
     floorsG[81] = SurfaceG(-5631, 3686, -971, -6911, 3072, -971, -6962, 3072, -663);
     floorsG[82] = SurfaceG(-5631, 3686, -971, -6962, 3072, -663, -5631, 3686, -663);
     floorsG[83] = SurfaceG(-4965, 3686, 404, -4484, 3686, 404, -4484, 3686, -209);
     floorsG[84] = SurfaceG(-4965, 3686, 404, -4484, 3686, -209, -4965, 3686, -209);
     floorsG[85] = SurfaceG(-5631, 3686, -971, -5631, 3686, 761, -5017, 3686, 761);
     floorsG[86] = SurfaceG(-5017, 3686, -971, -5631, 3686, -971, -5017, 3686, 761);
     floorsG[87] = SurfaceG(-4607, 3533, 1126, 563, 3533, 1126, 563, 3482, 1024);
     floorsG[88] = SurfaceG(-4607, 3533, 1126, 563, 3482, 1024, -4530, 3482, 1050);
     floorsG[89] = SurfaceG(-4607, 3533, 1126, -4530, 3482, 1050, -4530, 3482, -1106);
     floorsG[90] = SurfaceG(-4607, 3533, 1126, -4530, 3482, -1106, -4607, 3533, -1183);
     floorsG[91] = SurfaceG(5734, 3533, -1183, 563, 3533, -1183, 5658, 3482, -1106);
     floorsG[92] = SurfaceG(563, 3533, -1183, 563, 3482, -1081, 5658, 3482, -1106);
     floorsG[93] = SurfaceG(5734, 3533, -1183, 5658, 3482, -1106, 5734, 3533, 1126);
     floorsG[94] = SurfaceG(-4146, 3533, -209, -4484, 3686, -209, -4484, 3686, 404);
     floorsG[95] = SurfaceG(-4146, 3533, -209, -4484, 3686, 404, -4146, 3533, 404);
     floorsG[96] = SurfaceG(-3378, 3482, -978, -3276, 3686, -876, -3173, 3686, -876);
     floorsG[97] = SurfaceG(-3378, 3482, -978, -3173, 3686, -876, -3071, 3482, -978);
     floorsG[98] = SurfaceG(-3071, 3482, -978, -3173, 3686, -876, -3173, 3686, -774);
     floorsG[99] = SurfaceG(-3327, 3482, -620, -3276, 3686, -774, -3378, 3482, -978);
     floorsG[100] = SurfaceG(-3122, 3482, -620, -3173, 3686, -774, -3276, 3686, -774);
     floorsG[101] = SurfaceG(-3122, 3482, -620, -3276, 3686, -774, -3327, 3482, -620);
     floorsG[102] = SurfaceG(-3071, 3482, -978, -3173, 3686, -774, -3122, 3482, -620);
     floorsG[103] = SurfaceG(-1535, 3482, -975, -1330, 3686, -872, -1228, 3482, -975);
     floorsG[104] = SurfaceG(-1228, 3482, -975, -1330, 3686, -872, -1330, 3686, -770);
     floorsG[105] = SurfaceG(-1228, 3482, -975, -1330, 3686, -770, -1279, 3482, -616);
     floorsG[106] = SurfaceG(-1535, 3482, -975, -1433, 3686, -872, -1330, 3686, -872);
     floorsG[107] = SurfaceG(-1279, 3482, -616, -1330, 3686, -770, -1433, 3686, -770);
     floorsG[108] = SurfaceG(-1279, 3482, -616, -1433, 3686, -770, -1484, 3482, -616);
     floorsG[109] = SurfaceG(-1484, 3482, -616, -1433, 3686, -770, -1535, 3482, -975);
     floorsG[110] = SurfaceG(-4530, 3482, -1106, 563, 3533, -1183, -4607, 3533, -1183);
     floorsG[111] = SurfaceG(-4530, 3482, -1106, 563, 3482, -1081, 563, 3533, -1183);
     floorsG[112] = SurfaceG(5658, 3482, 1050, 563, 3482, 1024, 5734, 3533, 1126);
     floorsG[113] = SurfaceG(563, 3482, 1024, 563, 3533, 1126, 5734, 3533, 1126);
     floorsG[114] = SurfaceG(5658, 3482, -1106, 5658, 3482, 1050, 5734, 3533, 1126);
     floorsG[115] = SurfaceG(-4530, 3482, 1050, -2000, 3482, -26, -4530, 3482, -1106, true);
     floorsG[116] = SurfaceG(-4530, 3482, 1050, 563, 3482, 1024, -2000, 3482, -26, true);
     floorsG[117] = SurfaceG(-4530, 3482, -1106, -2000, 3482, -26, 563, 3482, -1081, true);
     floorsG[118] = SurfaceG(563, 3482, -1081, -2000, 3482, -26, 563, 3482, 1024, true);
     floorsG[119] = SurfaceG(563, 3482, 1024, 3128, 3482, -26, 563, 3482, -1081, true);
     floorsG[120] = SurfaceG(563, 3482, -1081, 3128, 3482, -26, 5658, 3482, -1106, true);
     floorsG[121] = SurfaceG(3128, 3482, -26, 563, 3482, 1024, 5658, 3482, 1050, true);
     floorsG[122] = SurfaceG(5658, 3482, -1106, 3128, 3482, -26, 5658, 3482, 1050, true);
     floorsG[123] = SurfaceG(-7474, 3174, -612, -7525, 2867, 1, -7474, 2867, 1);
     floorsG[124] = SurfaceG(-7474, 3174, -612, -7525, 3174, -612, -7525, 2867, 1);
     floorsG[125] = SurfaceG(-7525, 3174, -612, -7474, 3174, -612, -7321, 3174, -971);
     floorsG[126] = SurfaceG(-7525, 3174, -612, -7321, 3174, -971, -7372, 3174, -1022);
     floorsG[127] = SurfaceG(-7372, 3174, -1021, -7321, 3174, -971, -6911, 3174, -971);
     floorsG[128] = SurfaceG(-7372, 3174, -1021, -6911, 3174, -971, -6911, 3174, -1022);
     floorsG[129] = SurfaceG(-6911, 3174, -663, -6962, 3174, -663, -6962, 3174, -612);
     floorsG[130] = SurfaceG(-6911, 3174, -612, -5682, 3789, -612, -5682, 3789, -663);
     floorsG[131] = SurfaceG(-6911, 3174, -663, -6911, 3174, -612, -5682, 3789, -663);
     floorsG[132] = SurfaceG(-6911, 3174, -663, -6962, 3174, -612, -6911, 3174, -612);
     floorsG[133] = SurfaceG(-6962, 3072, -612, -6962, 3072, -663, -7474, 3072, -612);
     floorsG[134] = SurfaceG(-6962, 3072, -663, -6911, 3072, -971, -7474, 3072, -612);
     floorsG[135] = SurfaceG(-6911, 3072, -971, -7321, 3072, -971, -7474, 3072, -612);
     floorsG[136] = SurfaceG(-6962, 3072, -612, -7474, 3072, -612, -6962, 2765, 52);
     floorsG[137] = SurfaceG(-7474, 3072, -612, -7474, 2765, 1, -6962, 2765, 52);
     floorsG[138] = SurfaceG(6640, 2899, -122, 6640, 2899, 321, 6830, 2899, 321);
     floorsG[139] = SurfaceG(6640, 2899, -122, 6830, 2899, 321, 6957, 2899, 194);
     floorsG[140] = SurfaceG(6640, 2899, -122, 6513, 2899, 194, 6640, 2899, 321);
     floorsG[141] = SurfaceG(6640, 2899, -122, 6957, 2899, 194, 6957, 2899, 4);
     floorsG[142] = SurfaceG(6640, 2899, -122, 6957, 2899, 4, 6830, 2899, -122);
     floorsG[143] = SurfaceG(6640, 2899, -122, 6513, 2899, 4, 6513, 2899, 194);
     floorsG[144] = SurfaceG(-6911, 2867, 1, -6297, 2867, 52, -6297, 2867, 1);
     floorsG[145] = SurfaceG(-6911, 2867, 1, -6911, 2867, 52, -6297, 2867, 52);
     floorsG[146] = SurfaceG(-7474, 2867, 1, -7525, 2867, 1, -7218, 2867, 616);
     floorsG[147] = SurfaceG(-7218, 2867, 616, -7187, 2867, 564, -7474, 2867, 1);
     floorsG[148] = SurfaceG(-7218, 2867, 616, -6297, 2867, 616, -6297, 2867, 564);
     floorsG[149] = SurfaceG(-7218, 2867, 616, -6297, 2867, 564, -7187, 2867, 564);
     floorsG[150] = SurfaceG(-6962, 2867, 1, -6911, 3174, -612, -6962, 3174, -612);
     floorsG[151] = SurfaceG(-6962, 2867, 1, -6911, 2867, 1, -6911, 3174, -612);
     floorsG[152] = SurfaceG(-6962, 2867, 52, -6911, 2867, 1, -6962, 2867, 1);
     floorsG[153] = SurfaceG(-6962, 2867, 52, -6911, 2867, 52, -6911, 2867, 1);
     floorsG[154] = SurfaceG(-6962, 2765, 52, -6297, 2765, 564, -6297, 2765, 52);
     floorsG[155] = SurfaceG(-6962, 2765, 52, -7187, 2765, 564, -6297, 2765, 564);
     floorsG[156] = SurfaceG(-6962, 2765, 52, -7474, 2765, 1, -7187, 2765, 564);
     floorsG[157] = SurfaceG(-2354, 1331, -613, -1637, 1331, 0, -1330, 1331, -306);
     floorsG[158] = SurfaceG(-2354, 1331, -613, -2354, 1331, -306, -2047, 1331, 0);
     floorsG[159] = SurfaceG(-2354, 1331, -613, -2047, 1331, 0, -1637, 1331, 0);
     floorsG[160] = SurfaceG(-2354, 1331, -613, -1330, 1331, -613, -1637, 1331, -921);
     floorsG[161] = SurfaceG(-2354, 1331, -613, -1637, 1331, -921, -2047, 1331, -921);
     floorsG[162] = SurfaceG(-2354, 1331, -613, -1330, 1331, -306, -1330, 1331, -613);
     floorsG[163] = SurfaceG(-1381, 819, -25, -1407, 819, 0, -1356, 819, 0);
     floorsG[164] = SurfaceG(-1356, 819, 614, -1407, 819, 614, -1381, 819, 640);
     floorsG[165] = SurfaceG(-2380, 819, 614, -2431, 819, 614, -2405, 819, 640);
     floorsG[166] = SurfaceG(-2405, 819, -25, -2431, 819, 0, -2380, 819, 0);
     floorsG[167] = SurfaceG(-562, 819, -306, -665, 819, 0, -562, 819, 0);
     floorsG[168] = SurfaceG(-562, 819, -306, -665, 819, -306, -665, 819, 0);
     floorsG[169] = SurfaceG(-665, 819, 614, -1074, 410, 0, -1074, 410, 614);
     floorsG[170] = SurfaceG(-665, 819, 614, -665, 819, 0, -1074, 410, 0);
     floorsG[171] = SurfaceG(-665, 819, 614, -562, 819, 614, -562, 819, 0);
     floorsG[172] = SurfaceG(-562, 819, 0, -562, 819, 614, -50, 410, 614);
     floorsG[173] = SurfaceG(-562, 819, 0, -50, 410, 614, -50, 410, 0);
     floorsG[174] = SurfaceG(-665, 819, 614, -562, 819, 0, -665, 819, 0);
     floorsG[175] = SurfaceG(-767, 819, -613, -1330, 1331, -306, -767, 819, -306);
     floorsG[176] = SurfaceG(-767, 819, -306, -460, 819, -306, -460, 819, -613);
     floorsG[177] = SurfaceG(-767, 819, -306, -460, 819, -613, -767, 819, -613);
     floorsG[178] = SurfaceG(-767, 819, -613, -1330, 1331, -613, -1330, 1331, -306);
     floorsG[179] = SurfaceG(-1330, 788, 614, -2457, 742, 640, -1330, 742, 640);
     floorsG[180] = SurfaceG(-1330, 788, 614, -2457, 788, 614, -2457, 742, 640);
     floorsG[181] = SurfaceG(-1330, 753, 0, -2457, 753, 614, -1330, 753, 614);
     floorsG[182] = SurfaceG(-1330, 753, 0, -2457, 753, 0, -2457, 753, 614);
     floorsG[183] = SurfaceG(-1330, 742, -25, -2457, 742, -25, -2457, 788, 0);
     floorsG[184] = SurfaceG(-1330, 742, -25, -2457, 788, 0, -1330, 788, 0);
     floorsG[185] = SurfaceG(1280, 410, -462, 1178, 410, -462, 1178, 410, -359);
     floorsG[186] = SurfaceG(1280, 410, -462, 1178, 410, -359, 1280, 410, -359);
     floorsG[187] = SurfaceG(1178, 410, -359, 1178, 410, -462, 1075, 205, -564);
     floorsG[188] = SurfaceG(922, 410, 102, 205, 410, 102, 205, 410, 512);
     floorsG[189] = SurfaceG(-5836, 410, 1, -4197, 410, 1, -4505, 410, -305);
     floorsG[190] = SurfaceG(-5836, 410, 1, -4505, 410, -305, -5529, 410, -305);
     floorsG[191] = SurfaceG(-5836, 410, 1, -4197, 410, 617, -4197, 410, 1);
     floorsG[192] = SurfaceG(-5836, 410, 1, -5836, 410, 617, -5529, 410, 924);
     floorsG[193] = SurfaceG(-5836, 410, 1, -5529, 410, 924, -4505, 410, 924);
     floorsG[194] = SurfaceG(-5836, 410, 1, -4505, 410, 924, -4197, 410, 617);
     floorsG[195] = SurfaceG(2458, 410, 102, 1741, 410, 512, 2458, 410, 512);
     floorsG[196] = SurfaceG(922, 410, 102, 205, 410, 512, 922, 410, 512);
     floorsG[197] = SurfaceG(-2969, 410, 617, -2149, 307, 2, -2969, 410, 2);
     floorsG[198] = SurfaceG(-2969, 410, 617, -2149, 307, 617, -2149, 307, 2);
     floorsG[199] = SurfaceG(2458, 410, 102, 1741, 410, 102, 1741, 410, 512);
     floorsG[200] = SurfaceG(2662, 410, 512, 2458, 410, 717, 3277, 410, 717);
     floorsG[201] = SurfaceG(2458, 410, 717, 2662, 410, 512, 2662, 410, 102);
     floorsG[202] = SurfaceG(2458, 410, 717, 2662, 410, 102, 2458, 410, -101);
     floorsG[203] = SurfaceG(2458, 410, -101, 2662, 410, 102, 3072, 410, 102);
     floorsG[204] = SurfaceG(2458, 410, -101, 3072, 410, 102, 3277, 410, -101);
     floorsG[205] = SurfaceG(3277, 410, 717, 3277, 410, -101, 3072, 410, 102);
     floorsG[206] = SurfaceG(3277, 410, 717, 3072, 410, 102, 3072, 410, 512);
     floorsG[207] = SurfaceG(2662, 410, 512, 3277, 410, 717, 3072, 410, 512);
     floorsG[208] = SurfaceG(-50, 410, 614, 205, 410, 0, -50, 410, 0);
     floorsG[209] = SurfaceG(-1433, 410, 614, -1074, 410, 0, -1433, 410, 0);
     floorsG[210] = SurfaceG(-1433, 410, 614, -1074, 410, 614, -1074, 410, 0);
     floorsG[211] = SurfaceG(-50, 410, 614, 205, 410, 614, 205, 410, 0);
     floorsG[212] = SurfaceG(-2354, 256, 1126, 1126, 256, 1126, 1126, 205, 1050);
     floorsG[213] = SurfaceG(-7525, 256, 1126, -2354, 256, 1126, -2354, 205, 1024);
     floorsG[214] = SurfaceG(1126, 256, -1183, -2354, 256, -1183, -2354, 205, -1081);
     floorsG[215] = SurfaceG(1126, 256, -1183, -2354, 205, -1081, 1126, 205, -1106);
     floorsG[216] = SurfaceG(4915, 256, 1126, 4915, 256, -1183, 4838, 205, -1106);
     floorsG[217] = SurfaceG(4915, 256, 1126, 4838, 205, -1106, 4838, 205, 1050);
     floorsG[218] = SurfaceG(-7525, 256, 1126, -2354, 205, 1024, -7449, 205, 1050);
     floorsG[219] = SurfaceG(-7525, 256, 1126, -7449, 205, 1050, -7449, 205, -1106);
     floorsG[220] = SurfaceG(-7525, 256, 1126, -7449, 205, -1106, -7525, 256, -1183);
     floorsG[221] = SurfaceG(2662, 207, 512, -2354, 205, -1081, -2354, 205, 1024, true);
     floorsG[222] = SurfaceG(2662, 207, 512, 2663, 205, 101, -2354, 205, -1081, true);
     floorsG[223] = SurfaceG(1126, 205, 1050, -2354, 205, 1024, -2354, 256, 1126);
     floorsG[224] = SurfaceG(4838, 205, 1050, 1126, 256, 1126, 4915, 256, 1126);
     floorsG[225] = SurfaceG(4838, 205, 1050, 1126, 205, 1050, 1126, 256, 1126);
     floorsG[226] = SurfaceG(1075, 205, -564, 1280, 410, -462, 1382, 205, -564);
     floorsG[227] = SurfaceG(1382, 205, -564, 1280, 410, -462, 1280, 410, -359);
     floorsG[228] = SurfaceG(1075, 205, -564, 1178, 410, -462, 1280, 410, -462);
     floorsG[229] = SurfaceG(1126, 205, -206, 1178, 410, -359, 1075, 205, -564);
     floorsG[230] = SurfaceG(1331, 205, -206, 1280, 410, -359, 1178, 410, -359);
     floorsG[231] = SurfaceG(1331, 205, -206, 1178, 410, -359, 1126, 205, -206);
     floorsG[232] = SurfaceG(1382, 205, -564, 1280, 410, -359, 1331, 205, -206);
     floorsG[233] = SurfaceG(-7449, 205, -1106, -2354, 205, -1081, -2354, 256, -1183);
     floorsG[234] = SurfaceG(1126, 205, -1106, 4838, 205, -1106, 4915, 256, -1183);
     floorsG[235] = SurfaceG(1126, 205, -1106, 4915, 256, -1183, 1126, 256, -1183);
     floorsG[236] = SurfaceG(-7449, 205, -1106, -2354, 256, -1183, -7525, 256, -1183);
     floorsG[237] = SurfaceG(1126, 205, 1050, 3072, 205, 512, 2662, 207, 512, true);
     floorsG[238] = SurfaceG(1126, 205, 1050, 4838, 205, 1050, 3072, 205, 512, true);
     floorsG[239] = SurfaceG(4838, 205, -1106, 3072, 205, 512, 4838, 205, 1050, true);
     floorsG[240] = SurfaceG(4838, 205, -1106, 3072, 205, 102, 3072, 205, 512, true);
     floorsG[241] = SurfaceG(1126, 205, 1050, 2662, 207, 512, -2354, 205, 1024, true);
     floorsG[242] = SurfaceG(2663, 205, 101, 3072, 205, 102, 4838, 205, -1106, true);
     floorsG[243] = SurfaceG(2663, 205, 101, 1126, 205, -1106, -2354, 205, -1081, true);
     floorsG[244] = SurfaceG(2663, 205, 101, 4838, 205, -1106, 1126, 205, -1106, true);
     floorsG[245] = SurfaceG(-7449, 205, -1106, -4919, 205, -26, -2354, 205, -1081, true);
     floorsG[246] = SurfaceG(-2354, 205, -1081, -4919, 205, -26, -2354, 205, 1024, true);
     floorsG[247] = SurfaceG(-7449, 205, 1050, -2354, 205, 1024, -4919, 205, -26, true);
     floorsG[248] = SurfaceG(-7449, 205, 1050, -4919, 205, -26, -7449, 205, -1106, true);
     floorsG[249] = SurfaceG(4403, -665, 819, 4454, -665, 819, 4454, -665, -255);
     floorsG[250] = SurfaceG(4403, -665, 819, 4454, -665, -255, 4403, -665, -204);
     floorsG[251] = SurfaceG(4454, -665, -255, 3379, -665, -204, 4403, -665, -204);
     floorsG[252] = SurfaceG(4454, -665, -255, 3379, -665, -255, 3379, -665, -204);
     floorsG[253] = SurfaceG(3379, -665, -204, 3379, -665, -255, 3072, -665, 102);
     floorsG[254] = SurfaceG(3379, -1279, 819, 3738, -1279, 461, 3738, -1279, 154);
     floorsG[255] = SurfaceG(3738, -1279, 461, 4403, -1279, 819, 4045, -1279, 461);
     floorsG[256] = SurfaceG(3738, -1279, 461, 3379, -1279, 819, 4403, -1279, 819);
     floorsG[257] = SurfaceG(3379, -1279, 819, 3072, -1125, 102, 3072, -1125, 512);
     floorsG[258] = SurfaceG(3379, -1279, 819, 3738, -1279, 154, 3379, -1279, -204);
     floorsG[259] = SurfaceG(3379, -1279, 819, 3379, -1279, -204, 3072, -1125, 102);
     floorsG[260] = SurfaceG(4045, -1279, 154, 4045, -1279, 461, 4403, -1279, 819);
     floorsG[261] = SurfaceG(4045, -1279, 154, 4403, -1279, 819, 4403, -1279, -204);
     floorsG[262] = SurfaceG(3379, -1279, -204, 3738, -1279, 154, 4045, -1279, 154);
     floorsG[263] = SurfaceG(3379, -1279, -204, 4045, -1279, 154, 4403, -1279, -204);
     floorsG[264] = SurfaceG(5070, -2042, 317, 5070, -2042, 215, 4967, -2042, 215);
     floorsG[265] = SurfaceG(5070, -2042, 317, 4967, -2042, 215, 4967, -2042, 317);
     floorsG[266] = SurfaceG(3941, -2042, 317, 3941, -2042, 215, 3839, -2042, 317);
     floorsG[267] = SurfaceG(3941, -2042, 215, 3839, -2042, 215, 3839, -2042, 317);
     floorsG[268] = SurfaceG(4967, -2042, 215, 5070, -2042, 215, 5070, -2124, 164);
     floorsG[269] = SurfaceG(4967, -2042, 215, 5070, -2124, 164, 4967, -2124, 164);
     floorsG[270] = SurfaceG(3941, -2042, 317, 3839, -2042, 317, 3941, -2124, 369);
     floorsG[271] = SurfaceG(3839, -2042, 317, 3839, -2124, 369, 3941, -2124, 369);
     floorsG[272] = SurfaceG(5172, -2093, 215, 5070, -2042, 215, 5070, -2042, 317);
     floorsG[273] = SurfaceG(5172, -2093, 215, 5070, -2042, 317, 5172, -2093, 317);
     floorsG[274] = SurfaceG(3839, -2124, 164, 3839, -2042, 215, 3941, -2042, 215);
     floorsG[275] = SurfaceG(4967, -2124, 369, 5070, -2124, 369, 5070, -2042, 317);
     floorsG[276] = SurfaceG(4967, -2124, 369, 5070, -2042, 317, 4967, -2042, 317);
     floorsG[277] = SurfaceG(3941, -2124, 164, 3839, -2124, 164, 3941, -2042, 215);
     floorsG[278] = SurfaceG(7526, -2149, -40, 6912, -2149, -40, 6912, -2149, 573);
     floorsG[279] = SurfaceG(7526, -2149, -40, 6912, -2149, 573, 7526, -2149, 573);
     floorsG[280] = SurfaceG(1024, -2149, -1289, 1434, -2457, -921, 1434, -2149, -1289);
     floorsG[281] = SurfaceG(1024, -2149, -1289, 1024, -2457, -921, 1434, -2457, -921);
     floorsG[282] = SurfaceG(1690, -2149, -1289, 1382, -2149, -1596, 1075, -2149, -1596);
     floorsG[283] = SurfaceG(1690, -2149, -1289, 1075, -2149, -1596, 768, -2149, -1289);
     floorsG[284] = SurfaceG(1690, -2149, -2211, 1382, -2149, -1596, 1690, -2149, -1289);
     floorsG[285] = SurfaceG(1690, -2149, -2211, 1382, -2149, -1904, 1382, -2149, -1596);
     floorsG[286] = SurfaceG(768, -2149, -1289, 1075, -2149, -1596, 1075, -2149, -1904);
     floorsG[287] = SurfaceG(768, -2149, -1289, 1075, -2149, -1904, 768, -2149, -2211);
     floorsG[288] = SurfaceG(768, -2149, -2211, 1075, -2149, -1904, 1382, -2149, -1904);
     floorsG[289] = SurfaceG(768, -2149, -2211, 1382, -2149, -1904, 1690, -2149, -2211);
     floorsG[290] = SurfaceG(5273, -2196, 215, 5170, -2196, 215, 5170, -2196, 317);
     floorsG[291] = SurfaceG(5273, -2196, 317, 5273, -2196, 215, 5170, -2196, 317);
     floorsG[292] = SurfaceG(6401, -2196, 317, 6299, -2196, 215, 6299, -2196, 317);
     floorsG[293] = SurfaceG(6401, -2196, 317, 6401, -2196, 215, 6299, -2196, 215);
     floorsG[294] = SurfaceG(5273, -2196, 317, 5170, -2196, 317, 5273, -2278, 369);
     floorsG[295] = SurfaceG(5170, -2196, 317, 5170, -2278, 369, 5273, -2278, 369);
     floorsG[296] = SurfaceG(6299, -2196, 215, 6401, -2278, 164, 6299, -2278, 164);
     floorsG[297] = SurfaceG(6299, -2196, 215, 6401, -2196, 215, 6401, -2278, 164);
     floorsG[298] = SurfaceG(6299, -2278, 369, 6401, -2196, 317, 6299, -2196, 317);
     floorsG[299] = SurfaceG(5170, -2278, 164, 5170, -2196, 215, 5273, -2196, 215);
     floorsG[300] = SurfaceG(5273, -2278, 164, 5170, -2278, 164, 5273, -2196, 215);
     floorsG[301] = SurfaceG(6299, -2278, 369, 6401, -2278, 369, 6401, -2196, 317);
     floorsG[302] = SurfaceG(2662, -2457, -306, 2662, -2764, 61, 3072, -2764, 61);
     floorsG[303] = SurfaceG(2662, -2457, -306, 3072, -2764, 61, 3072, -2457, -306);
     floorsG[304] = SurfaceG(2662, -2457, -613, 3072, -2457, -921, 1843, -2457, -921);
     floorsG[305] = SurfaceG(2662, -2457, -613, 2662, -2457, -306, 3072, -2457, -306);
     floorsG[306] = SurfaceG(2662, -2457, -613, 3072, -2457, -306, 3072, -2457, -921);
     floorsG[307] = SurfaceG(2253, -2457, -613, 2662, -2457, -613, 1843, -2457, -921);
     floorsG[308] = SurfaceG(2253, -2457, -613, 1843, -2457, -921, 1843, -2457, -613);
     floorsG[309] = SurfaceG(1843, -2457, -613, 2253, -2457, -306, 2253, -2457, -613);
     floorsG[310] = SurfaceG(1843, -2457, -613, 1434, -2457, -613, 2253, -2457, -306);
     floorsG[311] = SurfaceG(1434, -2457, -613, 1024, -2457, -306, 2253, -2457, -306);
     floorsG[312] = SurfaceG(1434, -2457, -613, 1024, -2457, -921, 1024, -2457, -306);
     floorsG[313] = SurfaceG(1434, -2457, -613, 1434, -2457, -921, 1024, -2457, -921);
     floorsG[314] = SurfaceG(-4453, -2661, -613, -4607, -3071, -306, -4453, -2661, -306);
     floorsG[315] = SurfaceG(-4453, -2661, -613, -4607, -3071, -613, -4607, -3071, -306);
     floorsG[316] = SurfaceG(-4453, -2661, -306, -4146, -2661, -306, -4146, -2661, -613);
     floorsG[317] = SurfaceG(-4453, -2661, -306, -4146, -2661, -613, -4453, -2661, -613);
     floorsG[318] = SurfaceG(-4453, -2743, -306, -4453, -2743, 307, -4146, -2743, 307);
     floorsG[319] = SurfaceG(-4453, -2743, -306, -4146, -2743, 307, -4146, -2743, -306);
     floorsG[320] = SurfaceG(3379, -2764, -347, 4301, -2764, -40, 3994, -2764, -347);
     floorsG[321] = SurfaceG(3379, -2764, -347, 4301, -2764, 573, 4301, -2764, -40);
     floorsG[322] = SurfaceG(3379, -2764, -347, 3072, -2764, -40, 3072, -2764, 573);
     floorsG[323] = SurfaceG(3379, -2764, -347, 3072, -2764, 573, 3379, -2764, 881);
     floorsG[324] = SurfaceG(3379, -2764, -347, 3994, -2764, 881, 4301, -2764, 573);
     floorsG[325] = SurfaceG(3379, -2764, -347, 3379, -2764, 881, 3994, -2764, 881);
     floorsG[326] = SurfaceG(2662, -2764, -347, 2048, -2764, -347, 2048, -2764, 881);
     floorsG[327] = SurfaceG(2662, -2764, -347, 2048, -2764, 881, 2662, -2764, 881);
     floorsG[328] = SurfaceG(3072, -2764, 61, 2662, -2764, 471, 3072, -2764, 471);
     floorsG[329] = SurfaceG(3072, -2764, 61, 2662, -2764, 61, 2662, -2764, 471);
     floorsG[330] = SurfaceG(-7065, -2764, -511, -7986, -2764, 512, -7065, -2764, 512);
     floorsG[331] = SurfaceG(-7065, -2764, -511, -7986, -2764, -511, -7986, -2764, 512);
     floorsG[332] = SurfaceG(-7065, -2764, 307, -6553, -2866, 307, -6553, -2866, -306);
     floorsG[333] = SurfaceG(-7065, -2764, 307, -6553, -2866, -306, -7065, -2764, -306);
     floorsG[334] = SurfaceG(-6553, -2866, 307, -7065, -3071, 322, -6041, -3071, 307);
     floorsG[335] = SurfaceG(-306, -2866, 307, 0, -2866, 922, 0, -2866, -306);
     floorsG[336] = SurfaceG(-306, -2866, 307, 0, -2866, -306, -306, -2866, -306);
     floorsG[337] = SurfaceG(-6041, -2866, -306, -6553, -2866, 307, -6041, -2866, 307);
     floorsG[338] = SurfaceG(-6041, -2866, -306, -6553, -2866, -306, -6553, -2866, 307);
     floorsG[339] = SurfaceG(5222, -2917, 573, 6298, -2917, 573, 6298, -2917, -40);
     floorsG[340] = SurfaceG(5222, -2917, 573, 4301, -2764, -40, 4301, -2764, 573);
     floorsG[341] = SurfaceG(5222, -2917, 573, 5222, -2917, -40, 4301, -2764, -40);
     floorsG[342] = SurfaceG(5222, -2917, 573, 6298, -2917, -40, 5222, -2917, -40);
     floorsG[343] = SurfaceG(-921, -3020, 307, -921, -3020, 922, -306, -2866, 307);
     floorsG[344] = SurfaceG(-921, -3020, 922, 0, -2866, 922, -306, -2866, 307);
     floorsG[345] = SurfaceG(-3993, -3071, -613, -4146, -2661, -306, -3993, -3071, -306);
     floorsG[346] = SurfaceG(-3993, -3071, -613, -4146, -2661, -613, -4146, -2661, -306);
     floorsG[347] = SurfaceG(-7065, -3071, 322, -6553, -2866, 307, -7065, -2866, 307);
     floorsG[348] = SurfaceG(-8191, -3071, 8192, 8192, -3071, -8191, -8191, -3071, -8191, true);
     floorsG[349] = SurfaceG(-8191, -3071, 8192, 8192, -3071, 8192, 8192, -3071, -8191, true);
}

__device__ bool fast_floor_check(float* intendedPosition, float& floorHeight, float& currentNormalY) {
    bool foundFloor = false;

    short xPos = (short)(int)intendedPosition[0];
    short zPos = (short)(int)intendedPosition[2];

    if (xPos >= 5222 && xPos <= 6298 && zPos >= -40 && zPos <= 573) {
        floorHeight = -2917;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            foundFloor = true;
        }
    }
    else if (xPos >= -6553 && xPos <= -6041 && zPos >= -306 && zPos <= 307) {
        floorHeight = -2866.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            foundFloor = true;
        }
    }
    else if (xPos >= -306 && xPos <= 0 && zPos >= 307 && zPos <= 922) {
        floorHeight = -2866.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            foundFloor = true;
        }
    }
    else if (xPos >= -7986 && xPos <= -7064 && zPos >= -511 && zPos <= 512) {
        floorHeight = -2764.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            foundFloor = true;
        }
    }
    else if (xPos >= 2661 && xPos <= 3072 && zPos >= 61 && zPos <= 471) {
        floorHeight = -2764.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            foundFloor = true;
        }
    }
    else if (xPos >= 2048 && xPos <= 2662 && zPos >= -347 && zPos <= 881) {
        floorHeight = -2764.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            intendedPosition[1] = floorHeight;
            foundFloor = true;
        }
    }
    else if (xPos >= 3072 && xPos <= 4301 && zPos >= -40 && zPos <= 881) {
        floorHeight = -2764.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            intendedPosition[1] = floorHeight;
            foundFloor = true;
        }
    }
    else if (xPos >= -4453 && xPos <= -4146 && zPos >= -306 && zPos <= 307) {
        floorHeight = -2743.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            intendedPosition[1] = floorHeight;
            foundFloor = true;
        }
    }
    else if (xPos >= -4453 && xPos <= -4146 && zPos >= -613 && zPos <= -306) {
        floorHeight = -2661.0f;
        currentNormalY = 1.0f;

        if (intendedPosition[1] >= floorHeight - 78.0f && intendedPosition[1] <= floorHeight + 100.0f) {
            intendedPosition[1] = floorHeight;
            foundFloor = true;
        }
    }

    return foundFloor;
}

__device__ int find_floor_triangles(float* pos, short(&triangles)[2][3][3], float(&normals)[2][3], float* pheight) {
    int idx = -1;

    int16_t x = static_cast<int16_t>(static_cast<int>(pos[0]));
    int16_t y = static_cast<int16_t>(static_cast<int>(pos[1]));
    int16_t z = static_cast<int16_t>(static_cast<int>(pos[2]));

    for (int i = 0; i < 2; i++) {
        int16_t x1 = triangles[i][0][0];
        int16_t z1 = triangles[i][0][2];
        int16_t x2 = triangles[i][1][0];
        int16_t z2 = triangles[i][1][2];

        // Check that the point is within the triangle bounds.
        if ((z1 - z) * (x2 - x1) - (x1 - x) * (z2 - z1) < 0) {
            continue;
        }

        // To slightly save on computation time, set this later.
        int16_t x3 = triangles[i][2][0];
        int16_t z3 = triangles[i][2][2];

        if ((z2 - z) * (x3 - x2) - (x2 - x) * (z3 - z2) < 0) {
            continue;
        }
        if ((z3 - z) * (x1 - x3) - (x3 - x) * (z1 - z3) < 0) {
            continue;
        }

        float nx = normals[i][0];
        float ny = normals[i][1];
        float nz = normals[i][2];
        float oo = -(nx * x1 + ny * triangles[i][0][1] + nz * z1);

        // Find the height of the floor at a given location.
        float height = -(x * nx + nz * z + oo) / ny;
        // Checks for floor interaction with a 78 unit buffer.
        if (y - (height + -78.0f) < 0.0f) {
            continue;
        }

        *pheight = height;
        idx = i;
        break;
    }

    //! (Surface Cucking) Since only the first floor is returned and not the highest,
    //  higher floors can be "cucked" by lower floors.
    return idx;
}

__device__ int find_floor(float* position, SurfaceG** floor, float& floor_y, SurfaceG floor_set[], int n_floor_set) {
    short x = (short)(int)position[0];
    short y = (short)(int)position[1];
    short z = (short)(int)position[2];

    int floor_idx = -1;

    for (int i = 0; i < n_floor_set; ++i) {
        if (x < floor_set[i].min_x || x > floor_set[i].max_x || z < floor_set[i].min_z || z > floor_set[i].max_z) {
            continue;
        }

        if ((floor_set[i].vertices[0][2] - z) * (floor_set[i].vertices[1][0] - floor_set[i].vertices[0][0]) - (floor_set[i].vertices[0][0] - x) * (floor_set[i].vertices[1][2] - floor_set[i].vertices[0][2]) < 0) {
            continue;
        }
        if ((floor_set[i].vertices[1][2] - z) * (floor_set[i].vertices[2][0] - floor_set[i].vertices[1][0]) - (floor_set[i].vertices[1][0] - x) * (floor_set[i].vertices[2][2] - floor_set[i].vertices[1][2]) < 0) {
            continue;
        }
        if ((floor_set[i].vertices[2][2] - z) * (floor_set[i].vertices[0][0] - floor_set[i].vertices[2][0]) - (floor_set[i].vertices[2][0] - x) * (floor_set[i].vertices[0][2] - floor_set[i].vertices[2][2]) < 0) {
            continue;
        }

        float height = -(x * floor_set[i].normal[0] + floor_set[i].normal[2] * z + floor_set[i].origin_offset) / floor_set[i].normal[1];

        if (y - (height + -78.0f) < 0.0f) {
            continue;
        }

        floor_y = height;
        *floor = &floor_set[i];
        floor_idx = i;
        break;
    }

    return floor_idx;
}